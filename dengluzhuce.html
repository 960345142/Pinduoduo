<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>登录注册</title>
<link rel="stylesheet" href="css/gongyong.css">
<link rel="stylesheet" href="css/dengluzhuce.css" />
<script type="text/javascript" src="js/dengluzhuce.js"></script>
	<style>
		.dengluzhuce {
			margin:0;
			padding:0;
			overflow:hidden;
			/*background-image: url(img/timg.jpg);
			background-size: 100% 100%;*/
			background:#2d9b95;
			background:radial-gradient(ellipse at center,#2d9b95 0%,#0e1329 100%);
		}
		.box {background:#000000; position:absolute;margin-left:-14%; z-index:3;opacity: 0.6;left:50%;}
		.box-login{width:450px; height:295px;margin-top:-10%;top:50%;}
		.box-register{width:450px; height:385px;margin-top:-8%;top:46%;}
		.box-reset{width:450px; height:385px;margin-top:-8%;top:46%;}
		#register {display:none;}
		#reset{display:none;}
	</style>
</head>
<body>
<div class="head">
	<div class="QQ">
		<a href="index.html">
			<img class="logo" src="img/pdd_logo.png" alt="logo">
		</a>
		<ul class="qq">
			<li class="q1">
				<a href="index.html">
					<span class="q11">首页</span>
				</a>
			</li>
			<li class="q1">
				<a href="https://ims.pinduoduo.com/" target="_blank">
					<span class="q11">商家入驻</span>
				</a>
			</li>
			<li class="q1">
				<a href="news.html">
					<span class="q11">热点资讯</span>
				</a>
			</li>
			<li class="q1">
				<a href="https://www.pinduoduo.com/home/agriculture/" target="_blank">
					<span class="q11">爱心扶贫</span>
				</a>
			</li>
			<li class="q1">
				<a href="https://www.pinduoduo.com/social.html" target="_blank">
					<span class="q11">社会招聘</span>
				</a>
			</li>
			<li class="q1">
				<a href="campus.html">
					<span class="q11">校园招聘</span>
				</a>
			</li>
			<li class="q1">
				<a href="proxy_admin.html">
					<span class="q11">商务合作</span>
				</a>
			</li>
			<li class="q1">
				<a href="help.html">
					<span class="q11">帮助中心</span>
				</a>
			</li>
			<li class="q1">
				<a href="https://jubao.pinduoduo.com/" target="_blank">
					<span class="q11">举报平台</span>
				</a>
			</li>
			<li class="q1">
				<a href="https://jinbao.pinduoduo.com/index?from=pdd" target="_blank">
					<span class="q11">分享赚钱</span>
				</a>
			</li>
			<li class="q1" id="qwe">
				<a href="dengluzhuce.html">
					<img src="img/inco1.png" alt="登录注册">
				</a>
			</li>
			<li class="q1">
				<a href="gouwuche.html" target="_blank">
					<img src="img/car.png" alt="购物车">
				</a>
			</li>
		</ul>
	</div>
</div>
<div class="dengluzhuce">
	<!-- <canvas></canvas> -->

	<div class="beg-login-box box box-login layui-anim-up" id="login">
		<header>
			<h1 style="color:#FFFFFF">欢迎登录</h1>
		</header>
		<div class="beg-login-main">
			<!-- <form action="" class="layui-form" method="post"> -->
				<div class="layui-form-item">
					<label class="beg-login-icon">
					<i class="layui-icon">&#xe612;</i>
				</label>
					<input id="username" type="text" name="userName" lay-verify="userName" autocomplete="off" placeholder="请输入登录名" class="layui-input">
				</div>
				<div class="layui-form-item">
					<label class="beg-login-icon">
					<i class="layui-icon">&#xe642;</i>
				</label>
					<input id="password" type="password" name="password" lay-verify="password" autocomplete="off" placeholder="请输入密码" class="layui-input">
				</div>
				<div class="layui-form-item">
				
					<div class="beg-pull-left beg-login-remember" style="color:#FFFFFF;margin-top: 1%;">
						<label>记住帐号？</label>
						<input type="checkbox" name="close" lay-skin="switch" lay-text="ON|OFF" checked>
					</div>
					
					<div class="beg-pull-right" style="margin-top: 4%;">
						<a class="btn pull-left btn-link text-muted" onClick="goto_forget()" style="color:#FFFFFF;cursor:pointer;">忘记密码?</a>
					</div>
					<div class="beg-clear"></div>
				</div>
				
				<div class="layui-form-item">
					<div class="beg-pull-left beg-login-remember" style="color:#FFFFFF;margin-top: -2%;">
						<button class="layui-btn layui-btn-radius layui-btn-primary" onclick="goto_register();
						return false;">
						<i class="layui-icon">&#xe650;</i> 注册
					</div>
					
					<div class="beg-pull-right">
						<button class="layui-btn layui-btn-radius" style="margin-top: 4%;" onclick="denglu(); return false;">
						<i class="layui-icon" id="denglu">&#xe650;</i> 登录
					</button>
					</div>
				</div>
			<!-- </form> -->
		</div>
	</div>

	<div class="beg-login-box box box-register layui-anim-rotate" id="register">
		<header>
			<h1 style="color:#FFFFFF">欢迎注册</h1>
		</header>
		<div class="beg-login-main">
			<form action="" class="layui-form" method="post">
				<div class="layui-form-item">
					<label class="beg-login-icon">
					<i class="layui-icon">&#xe612;</i>
				</label>
					<input id="username_register" type="text" name="userName" lay-verify="userName" autocomplete="off" placeholder="请输入用户名" class="layui-input">
				</div>
				<div class="layui-form-item">
					<label class="beg-login-icon">
						<i class="layui-icon">&#xe642;</i>
					</label>
					<input id="password_register" type="password" name="password" lay-verify="password" autocomplete="off" placeholder="请输入密码" class="layui-input">
				</div>
				<div class="layui-form-item">
					<label class="beg-login-icon">
						<i class="layui-icon">&#xe642;</i>
					</label>
					<input id="determine_password_register" type="password" name="password" lay-verify="password" autocomplete="off" placeholder="确认密码" class="layui-input">
				</div>
				<div class="layui-form-item">
					<label class="beg-login-icon">
						<i class="layui-icon">&#xe6b2;</i>
					</label>
					<input id="regcode_register" type="text" name="regcode" lay-verify="regcode" autocomplete="off" placeholder="请输入注册码" class="layui-input">
				</div>
				<div class="layui-form-item">
					<div class="beg-pull-left beg-login-remember" style="color:#FFFFFF;margin-top: 6%;">
						<button class="layui-btn" onclick="zhuce();return false;">
						<i class="layui-icon">&#xe650;</i> 注册
					</div>
					
					<div class="beg-pull-right">
						<button class="layui-btn layui-btn layui-btn-primary" style="margin-top: 18%;" onClick="goto_login();return false;">
						<i class="layui-icon">&#xe650;</i> 返回登录
						<div id="messageBox"></div>
					</button>
					</div>
				</div>
			</form>
		</div>
	</div>

	<div class="beg-login-box box box-reset layui-anim-rotate" id="reset">
		<header>
			<h1 style="color:#FFFFFF">重置密码</h1>
		</header>
		<div class="beg-login-main">
			<form action="" class="layui-form" method="post">
				<div class="layui-form-item">
					<label class="beg-login-icon">
					<i class="layui-icon">&#xe612;</i>
				</label>
					<input id="username_reset" type="text" name="userName" lay-verify="userName" autocomplete="off" placeholder="请输入用户名" class="layui-input">
				</div>
				<div class="layui-form-item">
					<label class="beg-login-icon">
						<i class="layui-icon">&#xe6b2;</i>
					</label>
					<input id="regcode_reset" type="text" name="regcode" lay-verify="regcode" autocomplete="off" placeholder="请输入注册码" class="layui-input">
				</div>
				<div class="layui-form-item">
					<label class="beg-login-icon">
						<i class="layui-icon">&#xe642;</i>
					</label>
					<input id="password_reset" type="password" name="password" lay-verify="password" autocomplete="off" placeholder="请输入重置密码" class="layui-input">
				</div>
				<div class="layui-form-item">
					<label class="beg-login-icon">
						<i class="layui-icon">&#xe642;</i>
					</label>
					<input id="determine_password_reset" type="password" name="password" lay-verify="password" autocomplete="off" placeholder="确认密码" class="layui-input">
				</div>
				<div class="layui-form-item">
					<div class="beg-pull-left beg-login-remember" style="color:#FFFFFF;margin-top: 6%;">
						<button class="layui-btn" onclick="reset_pwd();return false;">
						<i class="layui-icon">&#xe650;</i> 重置
					</div>
					
					<div class="beg-pull-right">
						<button class="layui-btn layui-btn layui-btn-primary" style="margin-top: 18%;" onClick="goto_login();return false;">
						<i class="layui-icon">&#xe650;</i> 返回登录
					</button>
					</div>
				</div>
			</form>
		</div>
	</div>
</div>
<div class="pdd-foot">
	<div class="pdd-foot-head">
		<div class="pfh-code">
			<div class="qrcode">
				<img src="img/pdd_foot_wechat.png" alt="wechat_code">
				<p>扫描二维码微信关注</p>
			</div>
			<div class="qrcode">
				<img src="img/organic_bottom.png" alt="app_code"><p>扫描二维码下载App</p>
			</div>
			<div class="qrcode">
				<img src="img/pdd_foot_service.png" alt="service_code">
				<p class="word-wrap">微信扫码免费领取拼多多店铺</p>
			</div>
		</div>
		<div class="pfh-text">
			<p class="pfh-text-contact">联系我们</p>
			<p class="pfh-text-other">客服&amp;举报电话：021-53395288（推荐）</p>
			<p class="pfh-text-other">400-8822-528</p>
			<p class="pfh-text-other">商家热线：021-5339-5088</p>
			<p class="pfh-text-other">客服时间：8:00-20:30</p>
			<p class="pfh-text-other">上海寻梦信息技术有限公司</p>
		</div>
	</div>
	<div class="pdd-bottom-nav">
		<ul class="pd-nav-list">
			<li class="pd-nav-list-item">
				<a href="https://ims.pinduoduo.com/overSea" target="_blank">
					<span>入驻多多国际</span>
				</a>
			</li>
			<li class="pd-nav-list-item">
				<a href="/home/campus/"><span>校园招聘</span></a>
			</li>
			<li class="pd-nav-list-item">
				<a href="/home/about/"><span>关于我们</span></a>
			</li>
			<li class="pd-nav-list-item">
				<a href="/home/help/"><span>帮助中心</span></a>
			</li>
			<li class="pd-nav-list-item">
				<a href="/home/download/"><span>下载App</span></a>
			</li>
			<li class="pd-nav-list-item">
				<a href="/home/customer/"><span>消费者保障</span></a>
			</li>
			<li class="pd-nav-list-item">
				<a href="/home/tousu/"><span>维权投诉指引</span></a>
			</li>
			<li class="pd-nav-list-item">
				<a href="https://jubao.pinduoduo.com/" target="_blank"><span>廉正举报</span></a>
			</li>
			<li class="pd-nav-list-item">
				<a href="http://www.pinduoduo.com/pdd_user_services_agreement.pdf" target="_blank">
					<span>服务协议</span>
				</a>
			</li>
			<li class="pd-nav-list-item">
				<a href="http://www.pinduoduo.com/pdd_privacy_policy.pdf" target="_blank">
					<span>隐私政策</span>
				</a>
			</li>
			<li class="pd-nav-list-item">
				<a href="/home/advice/"><span>征求意见</span></a>
			</li>
			<li class="pd-nav-list-item">
				<a href="http://investor.pinduoduo.com/" target="_blank">
					<span>Investor Relations</span>
				</a>
			</li>
		</ul>
	</div>
	<div class="copyright">
		<div class="pdd-foot-cr">
			<span>Copyright 2015-2019 pinduoduo.com 版权所有</span>
			<a href="http://www.miitbeian.gov.cn/" target="_blank"> (增值电信业务经营许可证：沪B2-20170215)
			</a>
		</div>
		<div class="pdd-foot-medicine">
			<a href="img/pdd_medicine_certificate.jpg" target="_blank">互联网药品信息服务资格证书（沪）-非经营性-2017-0008
			</a>
		</div>
		<div class="pdd-foot-record">
			<a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31010502000392">
				<div class="record-img"></div>
				<span>沪公网安备 31010502000392号</span>
			</a>
			<span class="record-num">（沪）网械平台备字[2018]第00003号</span>
			<span class="record-num">沪ICP备15010535号-13</span>
			<span class="divider arvin-doudou">|</span>
			<a target="_blank" href="img/business_licence.jpg">营业执照</a>
		</div>
	</div>
	<div class="foot-ft">
		<a target="_blank" href="http://www.shjbzx.cn">
			<img src="img/wgxxjb_v2.png">
		</a>
		<a target="_blank" href="http://report.12377.cn:13225/toreportinputNormal_anis.do">
			<img src="img/yhxxjb.jpg">
		</a>
		<a target="_blank" href="http://www.pinduoduo.com/weiquan.html">
			<img src="img/pdd_weiquan_entry.png">
		</a>
		<a target="_blank" href="/home/food_trade/">
			<img class="big-width" src="img/pdd_food_trade_entry.jpg">
		</a>
		<a target="_blank" href="/home/wangjing/">
			<img src="img/pdd_wangjing_tip.jpg">
		</a>
		<a target="_blank" href="https://scjgj.sh.gov.cn/platform/survey/step1_phone">
			<img src="img/pdd_foot_shop_comment.png">
		</a>
		<a target="_blank" href="https://newsxmwb.xinmin.cn/special/mljbzsjs/index.html">
			<img src="img/pdd_foot_competition.png">
		</a>
	</div>
</div>
</body>
</html>
<script type="text/javascript">


 function denglu(){

	var result=login();
	if(result){
		//1、
		let xhr = new XMLHttpRequest();

		xhr.open("post","php/loginCheck.php",true);

		xhr.onreadystatechange = function(){
			if(xhr.readyState==4 && xhr.status==200){
				if(xhr.responseText=="1"){
					location.href="index.html";
				}else{
					alert("亲，您的用户名或密码输入不正确，请重新输入") ;
				}
			}
		}
		//post方式：设置请求头
		xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
		//post方式：把传给服务器端数据（键值对）放在send函数的参数里。
		let sendstr = `username=${$("#username").val()}&userpass=${$("#password").val()}`;

		xhr.send(sendstr);
	}
    
}




	function login(){
		var username = $("#username").val();
		var password = $("#password").val();
		if(username.trim().length < 6){
			$.pt({
				target: $("#username"),
				position: 'r',
				align: 't',
				width: 'auto',
				height: 'auto',
				content:"用户名不能少于6位"
			});
			return false;
		}
		//密码只能是5-15位
		var regExp = new RegExp("^.{5,15}$");
		if(!regExp.test(password)){
			$.pt({
				target: $("#password"),
				position: 'r',
				align: 't',
				width: 'auto',
				height: 'auto',
				content:"密码只能是5-15位"
			});
			return false;
		}
		return true;
	}



	function goto_register(){
		$("#register").show();
		$("#login").hide();
		$("#reset").hide();
	}


function zhuce(){
	var jii=register();
	if(jii){
		let xhr = new XMLHttpRequest();

			xhr.open("post","php/zhuce.php",true);

			xhr.onreadystatechange = function(){
				if(xhr.readyState==4 && xhr.status==200){
					if(xhr.responseText=="-1"){
						alert("用户名被人使用");
					}else if(xhr.responseText=="0"){
						alert("注册失败");
					}else if(xhr.responseText=="1"){
						alert("注册成功，请前往登录");
					}
				}
			}
			//post方式：设置请求头
			xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");
			//post方式：把传给服务器端数据（键值对）放在send函数的参数里
			let sendstr = `username=${$("#username_register").val()}&userpass=${$("#password_register").val()}&userreg=${$("#regcode_register").val()}`;
			xhr.send(sendstr);
	}	
}

	function register(){
		var regcode_register = $("#regcode_register").val();
		var username_register = $("#username_register").val();
		var password_register = $("#password_register").val();
		var determine_password_register = $("#determine_password_register").val();
		if(username_register.trim().length < 6){
			$.pt({
				target: $("#username_register"),
				position: 'r',
				align: 't',
				width: 'auto',
				height: 'auto',
				content:"用户名不能少于6位"
			});
			return false;
		}
		//密码只能是5-15位
		var regExp = new RegExp("^.{5,15}$");
		if(!regExp.test(password_register)){
			$.pt({
				target: $("#password_register"),
				position: 'r',
				align: 't',
				width: 'auto',
				height: 'auto',
				content:"密码只能是5-15位"
			});
			return false;
		}
		//两次输入的密码要一致
		if(password_register != determine_password_register){
			$.pt({
				target: $("#determine_password_register"),
				position: 'r',
				align: 't',
				width: 'auto',
				height: 'auto',
				content:"两次输入的密码不一致"
			});
			return false;
		}
		//注册码不能为空
		if(regcode_register == ""){
			$.pt({
				target: $("#regcode_register"),
				position: 'r',
				align: 't',
				width: 'auto',
				height: 'auto',
				content:"注册码不能为空"
			});
			return false;
		}
		return true;
	}




	function goto_login(){
		$("#register").hide();
		$("#login").show();
		$("#reset").hide();
	}




	function goto_forget(){
		$("#register").hide();
		$("#login").hide();
		$("#reset").show();
	}




	function reset_pwd(){
		var regcode_reset = $("#regcode_reset").val();
		var username_reset = $("#username_reset").val();
		var password_reset = $("#password_reset").val();
		var determine_password_reset = $("#determine_password_reset").val();
		if(username_reset.trim().length < 6){
			$.pt({
				target: $("#username_reset"),
				position: 'r',
				align: 't',
				width: 'auto',
				height: 'auto',
				content:"用户名不能少于6位"
			});
			return false;
		}
		//注册码不能为空
		if(regcode_reset == ""){
			$.pt({
				target: $("#regcode_reset"),
				position: 'r',
				align: 't',
				width: 'auto',
				height: 'auto',
				content:"注册码不能为空"
			});
			return false;
		}
		//密码只能是5-15位
		var regExp = new RegExp("^.{5,15}$");
		if(!regExp.test(password_reset)){
			$.pt({
				target: $("#password_reset"),
				position: 'r',
				align: 't',
				width: 'auto',
				height: 'auto',
				content:"密码只能是5-15位"
			});
			return false;
		}
		//两次输入的密码要一致
		if(password_reset != determine_password_reset){
			$.pt({
				target: $("#determine_password_reset"),
				position: 'r',
				align: 't',
				width: 'auto',
				height: 'auto',
				content:"两次输入的密码不一致"
			});
			return false;
		}
		alert("密码重置成功");
	}


</script>
